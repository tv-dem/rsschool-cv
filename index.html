<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
				content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="./index.css">
	<title>Document</title>
</head>
<body>

<div class="preview">
	<div class="preview__box">
		<h1>Demchuk Tatyana</h1>
		<p>frontent developer</p>
	</div>
</div>
<div class="about page-container">
	<h2>about me</h2>
	<div class="about__box">
		<div class="about__description">
			<p>Hi! I`m motivated frontend developer, having half of year experience of working in this area</p>
		</div>
	<img src="tmp/cv.jpg" alt="">
	</div>
</div>
<div class="skills page-container">
	<h2>skills</h2>
	<div class="skills__box">
		<ul>
			<li>Figma</li>
			<li>nextJs</li>
			<li>nodeJs</li>
			<li>ReactJs</li>
			<li>TypeScript</li>
			<li>HTML/CSS/JS</li>
		</ul>
	</div>
</div>

<div class="projects page-container">
	<h2>projects</h2>
	<div class="projects__content">
		<div class="projects__description">
			<h3>Singolo - Apr 2020</h3>
			<ul>
				<p>Technologies:</p>
				<li data-num="0">HTML</li>
				<li data-num="1">CSS</li>
				<li data-num="2">JS</li>
				<li data-num="3"></li>
			</ul>
		</div>
		<div class="projects__examples">
			<img src="./tmp/progects/singolo-1.png" alt="">
			<img src="./tmp/progects/singolo-2.png" alt="">
			<img id="project-change0" data-project="0" src="./tmp/progects/singolo-3.png" alt="">
			<img id="project-change1" data-project="1" src="./tmp/progects/song-bird-1.png" alt="">
			<img src="./tmp/progects/song-bird-2.png" alt="">
			<img id="project-change2" data-project="2" src="./tmp/progects/snake-1.png" alt="">
			<img src="./tmp/progects/snake-2.png" alt="">
			<img src="./tmp/progects/snake-3.png" alt="">
		</div>
	</div>

</div>

</body>

<script type="text/javascript" src="https://unpkg.com/onscreen/dist/on-screen.umd.min.js"></script>
<script>
	const frontentDeveloper = document.querySelector('.preview__box>p');
	const aboutTitle = document.querySelector('.about h2');
	console.log(frontentDeveloper)
	document.querySelector('.preview__box').addEventListener('animationend', ()=>{
		console.log(frontentDeveloper)
		frontentDeveloper.classList.add('animate')
	})
	
	const os = new OnScreen();
	
	const selectors = ['.about']
	
	selectors.forEach((selector, i) => {
		const node = document.querySelector(`${selector} h2`)
		const movingOnScroll = () => {
			node.style[i % 2 ? 'right' : 'left'] = `${window.scrollY}px`;
		}
		const removeMoveTitle = () => {
			document.removeEventListener('scroll', movingOnScroll)
		}
		const AddMoveTitle =()=>{
			document.addEventListener('scroll', movingOnScroll)
		}
		os.on('enter', selector, AddMoveTitle)
		os.on('leave', selector, removeMoveTitle)
	})
	
	const projectTitle = document.querySelector('.projects__description h3');
	const projectTechnologiesLi = document.querySelectorAll('.projects__description li');
	
	const projectData = [
		{
			title: 'Singolo - Apr 2020',
			technologies: [
				'JS',
				'CSS',
				'HTML'
			]
		},
		{
			title: 'songbird - Aug 2020',
			technologies: [
				'ReactJs',
				'CSS',
				'HTML'
			]
		},
		{
			title: 'snake - Mar 2021',
			technologies: [
				'ReactJs',
				'CSS',
				'HTML'
			]
		},
		{
			title: 'travel app - Mar 2021',
			technologies: [
				'ReactJs',
				'TS',
				'CSS',
				'HTML'
			]
		},
		{
			title: 'rs lang - Apr 2021',
			technologies: [
				'ReactJs',
				'TS',
				'CSS',
				'HTML'
			]
		}
	]
	
	const changeProjectData = ({dataset}) => {
		const {project} = dataset;
		const transitionEndHandler = ({target}) => {
			const data = target.dataset.num ? projectData[project].technologies[target.dataset.num] : projectData[project].title;
			target.textContent = data;
			target.classList.remove('hide')
			target.removeEventListener('transitionend', transitionEndHandler)
		}
		if(projectTitle.textContent === projectData[project].title){
			return
		}
		projectTitle.addEventListener('transitionend', transitionEndHandler)
		Array.from(projectTechnologiesLi).forEach(el => el.addEventListener('transitionend', transitionEndHandler))
		projectTitle.classList.add('hide')
		projectTechnologiesLi.forEach(el => el.classList.add('hide'))
	}
	
	os.on('enter', '#project-change0', changeProjectData);
	os.on('enter', '#project-change1', changeProjectData);
	os.on('enter', '#project-change2', changeProjectData);
	
</script>

</html>
